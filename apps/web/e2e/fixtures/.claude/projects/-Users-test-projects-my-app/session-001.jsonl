{"type":"user","uuid":"u-001-001","timestamp":"2025-06-15T10:00:00Z","cwd":"/Users/test/projects/my-app","gitBranch":"main","message":{"role":"user","content":[{"type":"text","text":"Help me refactor the main module"}]}}
{"type":"assistant","uuid":"a-001-001","timestamp":"2025-06-15T10:00:30Z","message":{"model":"claude-sonnet-4-20250514","role":"assistant","content":[{"type":"text","text":"I'll start by reading the main module to understand the current structure."},{"type":"tool_use","name":"Read","id":"tu-001-001","input":{"file_path":"/Users/test/projects/my-app/src/index.ts"}}],"usage":{"input_tokens":1500,"output_tokens":200,"cache_read_input_tokens":100,"cache_creation_input_tokens":50},"stop_reason":"tool_use"}}
{"type":"user","uuid":"u-001-002","timestamp":"2025-06-15T10:00:31Z","message":{"role":"user","content":[{"type":"tool_result","tool_use_id":"tu-001-001","content":"export function main() {\n  console.log('hello world')\n  // TODO: refactor this\n}"}]}}
{"type":"assistant","uuid":"a-001-002","timestamp":"2025-06-15T10:01:00Z","message":{"model":"claude-sonnet-4-20250514","role":"assistant","content":[{"type":"text","text":"I see the main module. Let me refactor it with proper structure."},{"type":"tool_use","name":"Write","id":"tu-001-002","input":{"file_path":"/Users/test/projects/my-app/src/index.ts","content":"export function main() {\n  greet()\n}\n\nfunction greet() {\n  console.log('hello world')\n}\n"}}],"usage":{"input_tokens":1800,"output_tokens":300,"cache_read_input_tokens":200,"cache_creation_input_tokens":100},"stop_reason":"tool_use"}}
{"type":"user","uuid":"u-001-003","timestamp":"2025-06-15T10:01:01Z","message":{"role":"user","content":[{"type":"tool_result","tool_use_id":"tu-001-002","content":"File written successfully."}]}}
{"type":"assistant","uuid":"a-001-003","timestamp":"2025-06-15T10:02:00Z","message":{"model":"claude-sonnet-4-20250514","role":"assistant","content":[{"type":"text","text":"Now let me run the tests to make sure everything works."},{"type":"tool_use","name":"Bash","id":"tu-001-003","input":{"command":"cd /Users/test/projects/my-app && npm test"}}],"usage":{"input_tokens":2200,"output_tokens":150,"cache_read_input_tokens":300,"cache_creation_input_tokens":50},"stop_reason":"tool_use"}}
{"type":"user","uuid":"u-001-004","timestamp":"2025-06-15T10:02:30Z","message":{"role":"user","content":[{"type":"tool_result","tool_use_id":"tu-001-003","content":"All tests passed (3/3)"}]}}
{"type":"assistant","uuid":"a-001-004","timestamp":"2025-06-15T10:05:00Z","message":{"model":"claude-sonnet-4-20250514","role":"assistant","content":[{"type":"text","text":"The refactoring is complete. I extracted the greeting logic into a separate function for better modularity. All 3 tests pass successfully."}],"usage":{"input_tokens":2500,"output_tokens":100,"cache_read_input_tokens":400,"cache_creation_input_tokens":50},"stop_reason":"end_turn"}}
